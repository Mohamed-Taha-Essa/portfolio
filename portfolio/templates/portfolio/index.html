{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{% static 'portfolio/css/styles.css' %}">

    <!-- =====BOX ICONS===== -->
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

    <title>Portfolio website complete</title>
</head>

<body>
    <!--===== HEADER =====-->
    <header class="l-header">
        <nav class="nav bd-grid">
            <div>
                <a href="#" class="nav__logo">{{home.name}}</a>
            </div>

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item"><a href="#home" class="nav__link active-link">Home</a></li>
                    <li class="nav__item"><a href="#about" class="nav__link">About</a></li>
                    <li class="nav__item"><a href="#skills" class="nav__link">Skills</a></li>
                    <li class="nav__item"><a href="#work" class="nav__link">Work</a></li>
                    <li class="nav__item"><a href="#certificates" class="nav__link">Certificates</a></li>
                    <li class="nav__item"><a href="#contact" class="nav__link">Contact</a></li>
                    {% if home.cv %}
                    <li class="nav__item">
                        <a href="{{ home.cv.url }}" class="button" download
                            style="padding: 0.5rem 1rem; margin-left: 1rem;">Download CV</a>
                    </li>
                    {% endif %}
                </ul>
            </div>

            <div class="nav__toggle" id="nav-toggle">
                <i class='bx bx-menu'></i>
            </div>

            <div class="change-theme-container">
                <i class='bx bx-moon change-theme' id="theme-button"
                    style="font-size: 1.5rem; color: var(--second-color); cursor: pointer; margin-left: 1rem;"></i>
            </div>
        </nav>
    </header>

    <main class="l-main">
        <!--===== HOME =====-->
        <section class="home bd-grid" id="home">
            <div class="home__data">
                <h1 class="home__title">Hi,<br>I'am <span class="home__title-color">{{home.name}}</span><br>
                    {{home.title}}</h1>

                <!-- <a href="#" class="button">Contact</a> -->
            </div>

            <div class="home__social">
                <a href="{{my_contact_info.linkein_url}}" target="_blank" class="home__social-icon"><i
                        class='bx bxl-linkedin'></i></a>
                <a href="{{my_contact_info.instagram_url}}" target="_blank" class="home__social-icon"><i
                        class='bx bxl-instagram'></i></a>
                <a href="{{my_contact_info.github_url}}" target="_blank" class="home__social-icon"><i
                        class='bx bxl-github'></i></a>
                <a href="{{my_contact_info.facebook_url}}" target="_blank" class="home__social-icon"><i
                        class='bx bxl-facebook'></i></a>
                <a href="mailto:{{my_contact_info.email}}" class="home__social-icon"><i class='bx bx-envelope'></i></a>
                <a href="tel:{{my_contact_info.phone}}" class="home__social-icon"><i class='bx bx-phone'></i></a>
            </div>

            <div class="home__img">
                <svg class="home__blob" viewBox="0 0 479 467" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <mask id="mask0" mask-type="alpha">
                        <path
                            d="M9.19024 145.964C34.0253 76.5814 114.865 54.7299 184.111 29.4823C245.804 6.98884 311.86 -14.9503 370.735 14.143C431.207 44.026 467.948 107.508 477.191 174.311C485.897 237.229 454.931 294.377 416.506 344.954C373.74 401.245 326.068 462.801 255.442 466.189C179.416 469.835 111.552 422.137 65.1576 361.805C17.4835 299.81 -17.1617 219.583 9.19024 145.964Z" />
                    </mask>
                    <g mask="url(#mask0)">
                        <path
                            d="M9.19024 145.964C34.0253 76.5814 114.865 54.7299 184.111 29.4823C245.804 6.98884 311.86 -14.9503 370.735 14.143C431.207 44.026 467.948 107.508 477.191 174.311C485.897 237.229 454.931 294.377 416.506 344.954C373.74 401.245 326.068 462.801 255.442 466.189C179.416 469.835 111.552 422.137 65.1576 361.805C17.4835 299.81 -17.1617 219.583 9.19024 145.964Z" />
                        <image class="home__blob-img" x="50" y="0" href="{{home.image.url}}" />
                    </g>
                </svg>
            </div>
        </section>
        {% if certificates %}
        <!--===== CERTIFICATES =====-->
        <section class="certificates section" id="certificates" aria-label="My Certificates">
            <h2 class="section-title">My Certificates</h2>

            <div class="certificates__container bd-grid">
                <div class="certificates__slider">
                    <button class="certificates__nav certificates__nav--prev" type="button"
                        aria-label="Previous certificates">
                        <i class='bx bx-chevron-left'></i>
                    </button>

                    <div class="certificates__viewport">
                        <ul class="certificates__track">
                            {% for certificate in certificates %}
                            <li class="certificate-card" role="group" aria-roledescription="slide"
                                aria-label="{{ forloop.counter }} of {{ certificates|length }}">
                                <figure class="certificate-card__figure">
                                    <img src="{{certificate.image.url}}" alt="{{certificate.title}}" loading="lazy"
                                        class="certificate-card__img">
                                </figure>
                                <h3 class="certificate-card__title">{{certificate.title}}</h3>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>

                    <button class="certificates__nav certificates__nav--next" type="button"
                        aria-label="Next certificates">
                        <i class='bx bx-chevron-right'></i>
                    </button>
                </div>

                <div class="certificates__pagination" aria-hidden="true"></div>
            </div>
        </section>
        {% endif %}


        <!--===== ABOUT =====-->
        <section class="about section " id="about">
            <h2 class="section-title">About</h2>

            <div class="about__container bd-grid">
                <div class="about__img">
                    <img src="{{about.image.url}}" alt="">
                </div>

                <div>
                    <h2 class="about__subtitle">I'am {{about.title}}</h2>
                    <p class="about__text">{{about.bio}}</p>
                </div>
            </div>
        </section>

        <!--===== SKILLS =====-->
        <section class="skills section" id="skills">
            <h2 class="section-title">Skills</h2>

            <div class="skills__container bd-grid">
                <div class="skills__header">
                    <h2 class="skills__subtitle">{{skill_section.title}}</h2>
                </div>

                <div class="skills__grid">
                    {% for skill in skills %}
                    <div class="skills__data">
                        <div class="skills__names">
                            <img src="{{ skill.icone.url }}" alt="icon">
                            <span class="skills__name">{{skill.name}}</span>
                        </div>
                        <div class="skills__bar" style="width: {{skill.percentage}}%">
                        </div>
                        <div>
                            <span class="skills__percentage">{{skill.percentage}}%</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>


        <!--===== WORK =====-->
        <section class="work section" id="work">
            <h2 class="section-title">Work</h2>

            <div class="work__container bd-grid">
                {% for work in works %}
                <div class="work__card">
                    <img src="{{work.image.url}}" alt="{{work.title}}" class="work__card-img">
                    <div class="work__card-content">
                        <h3 class="work__card-title">{{work.title}}</h3>
                        <p class="work__card-description">{{work.bio}}</p>
                        {% if work.url %}
                        <a href="{{work.url}}" target="_blank" class="work__card-button button">View Project</a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>



        <!--===== CONTACT =====-->
        <section class="contact section" id="contact">
            <h2 class="section-title">Contact</h2>

            <div class="contact__container bd-grid">
                <form id="contact-form" class="contact__form">
                    {% csrf_token %}
                    <input type="text" name="name" placeholder="Name" class="contact__input" required>
                    <input type="email" name="email" placeholder="Email" class="contact__input" required>
                    <textarea name="message" cols="0" rows="10" placeholder="Your message..." class="contact__input"
                        required></textarea>
                    <input type="submit" value="Send" class="contact__button button">
                </form>
            </div>
        </section>
    </main>

    <!--===== FOOTER =====-->
    <footer class="footer">
        <p class="footer__title">{{home.name}}</p>
        <div class="footer__social">
            <a href="{{my_contact_info.facebook_url}}" target="_blank" class="footer__icon"><i
                    class='bx bxl-facebook'></i></a>
            <a href="{{my_contact_info.instagram_url}}" target="_blank" class="footer__icon"><i
                    class='bx bxl-instagram'></i></a>
            <a href="{{my_contact_info.twitter_url}}" target="_blank" class="footer__icon"><i
                    class='bx bxl-twitter'></i></a>
        </div>

    </footer>


    <div class="whatsapp-fab" id="whatsapp-fab">
        <i class='bx bxl-whatsapp'></i>
    </div>

    <!--===== SCROLL REVEAL =====-->
    <script src="https://unpkg.com/scrollreveal"></script>

    <!--===== SWEETALERT2 =====-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!--===== MAIN JS =====-->
    <script src="{% static 'portfolio/js/main.js' %}"></script>

    <!--===== CONTACT AJAX JS =====-->
    <script>
        document.getElementById('contact-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const formData = new FormData(this);

            fetch("{% url 'contact_ajax' %}", {
                method: 'POST',
                body: formData,
                headers: {
                    'X-CSRFToken': formData.get('csrfmiddlewaretoken')
                }
            })
                .then(response => response.json())
                .then(data => {
                    if (data.status === 'success') {
                        Swal.fire({
                            title: 'Success!',
                            text: data.message,
                            icon: 'success',
                            confirmButtonText: 'OK',
                            confirmButtonColor: 'hsl(224, 89%, 60%)'
                        });
                        this.reset();
                    } else {
                        Swal.fire({
                            title: 'Error!',
                            text: data.message,
                            icon: 'error',
                            confirmButtonText: 'Try Again',
                            confirmButtonColor: 'hsl(224, 89%, 60%)'
                        });
                    }
                })
                .catch(error => {
                    Swal.fire({
                        title: 'Error!',
                        text: 'Something went wrong. Please try again later.',
                        icon: 'error',
                        confirmButtonText: 'OK',
                        confirmButtonColor: 'hsl(224, 89%, 60%)'
                    });
                });
        });
    </script>
</body>

</html>